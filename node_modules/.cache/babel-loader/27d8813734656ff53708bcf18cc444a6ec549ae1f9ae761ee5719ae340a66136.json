{"ast":null,"code":"var _jsxFileName = \"/Users/alexandrugarabajii/Dev/Ruric-SRL/src/components/GalleryCarousel/GalleryCarousel.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport './GalleryCarousel.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GalleryCarousel = ({\n  items,\n  intervalMs = 4000\n}) => {\n  _s();\n  const [idx, setIdx] = useState(0);\n  const timerRef = useRef(null);\n  const wrapperRef = useRef(null);\n\n  // autoplay\n  useEffect(() => {\n    stop();\n    timerRef.current = window.setInterval(() => {\n      setIdx(p => (p + 1) % items.length);\n    }, intervalMs);\n    return stop;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [items.length, intervalMs]);\n  const stop = () => {\n    if (timerRef.current) {\n      clearInterval(timerRef.current);\n      timerRef.current = null;\n    }\n  };\n  const go = to => {\n    if (!items.length) return;\n    const next = (to + items.length) % items.length;\n    setIdx(next);\n  };\n  const prev = () => go(idx - 1);\n  const next = () => go(idx + 1);\n\n  // swipe (mobil)\n  useEffect(() => {\n    const el = wrapperRef.current;\n    if (!el) return;\n    let startX = 0;\n    let moved = false;\n    const onTouchStart = e => {\n      startX = e.touches[0].clientX;\n      moved = false;\n      stop();\n    };\n    const onTouchMove = e => {\n      const dx = e.touches[0].clientX - startX;\n      moved = Math.abs(dx) > 24;\n    };\n    const onTouchEnd = e => {\n      const endX = e.changedTouches[0].clientX;\n      const dx = endX - startX;\n      if (moved) {\n        if (dx > 30) prev();\n        if (dx < -30) next();\n      }\n      // repornim autoplay\n      if (!timerRef.current) {\n        timerRef.current = window.setInterval(() => {\n          setIdx(p => (p + 1) % items.length);\n        }, intervalMs);\n      }\n    };\n    el.addEventListener('touchstart', onTouchStart, {\n      passive: true\n    });\n    el.addEventListener('touchmove', onTouchMove, {\n      passive: true\n    });\n    el.addEventListener('touchend', onTouchEnd);\n    return () => {\n      el.removeEventListener('touchstart', onTouchStart);\n      el.removeEventListener('touchmove', onTouchMove);\n      el.removeEventListener('touchend', onTouchEnd);\n    };\n  }, [idx, intervalMs, items.length]);\n  if (!items.length) return null;\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"gcarousel\",\n    \"aria-roledescription\": \"carousel\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"gcarousel__viewport\",\n      ref: wrapperRef,\n      onMouseEnter: stop,\n      onMouseLeave: () => {\n        if (!timerRef.current) {\n          timerRef.current = window.setInterval(() => {\n            setIdx(p => (p + 1) % items.length);\n          }, intervalMs);\n        }\n      },\n      children: items.map((it, i) => {\n        var _it$alt;\n        return /*#__PURE__*/_jsxDEV(\"figure\", {\n          className: `gcarousel__slide ${i === idx ? 'is-active' : ''}`,\n          \"aria-hidden\": i === idx ? 'false' : 'true',\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: it.src,\n            alt: (_it$alt = it.alt) !== null && _it$alt !== void 0 ? _it$alt : '',\n            className: \"gcarousel__img\",\n            loading: \"lazy\",\n            draggable: false\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this), it.caption && /*#__PURE__*/_jsxDEV(\"figcaption\", {\n            className: \"gcarousel__cap\",\n            children: it.caption\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 28\n          }, this)]\n        }, i, true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"gcarousel__arrow gcarousel__arrow--left\",\n      onClick: prev,\n      \"aria-label\": \"Prev\",\n      children: \"\\u276E\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"gcarousel__arrow gcarousel__arrow--right\",\n      onClick: next,\n      \"aria-label\": \"Next\",\n      children: \"\\u276F\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"gcarousel__dots\",\n      role: \"tablist\",\n      \"aria-label\": \"Select slide\",\n      children: items.map((_, i) => /*#__PURE__*/_jsxDEV(\"button\", {\n        role: \"tab\",\n        \"aria-selected\": i === idx,\n        className: `gcarousel__dot ${i === idx ? 'is-active' : ''}`,\n        onClick: () => go(i)\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 5\n  }, this);\n};\n_s(GalleryCarousel, \"qRAytP0VVa/cUbNJq7btM1xbl4s=\");\n_c = GalleryCarousel;\nexport default GalleryCarousel;\nvar _c;\n$RefreshReg$(_c, \"GalleryCarousel\");","map":{"version":3,"names":["React","useEffect","useRef","useState","jsxDEV","_jsxDEV","GalleryCarousel","items","intervalMs","_s","idx","setIdx","timerRef","wrapperRef","stop","current","window","setInterval","p","length","clearInterval","go","to","next","prev","el","startX","moved","onTouchStart","e","touches","clientX","onTouchMove","dx","Math","abs","onTouchEnd","endX","changedTouches","addEventListener","passive","removeEventListener","className","children","ref","onMouseEnter","onMouseLeave","map","it","i","_it$alt","src","alt","loading","draggable","fileName","_jsxFileName","lineNumber","columnNumber","caption","onClick","role","_","_c","$RefreshReg$"],"sources":["/Users/alexandrugarabajii/Dev/Ruric-SRL/src/components/GalleryCarousel/GalleryCarousel.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport './GalleryCarousel.css';\n\nexport type GalleryItem = { src: string; alt?: string; caption?: string };\n\ntype Props = {\n  items: GalleryItem[];\n  intervalMs?: number; // default 4000\n};\n\nconst GalleryCarousel: React.FC<Props> = ({ items, intervalMs = 4000 }) => {\n  const [idx, setIdx] = useState(0);\n  const timerRef = useRef<number | null>(null);\n  const wrapperRef = useRef<HTMLDivElement | null>(null);\n\n  // autoplay\n  useEffect(() => {\n    stop();\n    timerRef.current = window.setInterval(() => {\n      setIdx((p) => (p + 1) % items.length);\n    }, intervalMs);\n    return stop;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [items.length, intervalMs]);\n\n  const stop = () => {\n    if (timerRef.current) {\n      clearInterval(timerRef.current);\n      timerRef.current = null;\n    }\n  };\n\n  const go = (to: number) => {\n    if (!items.length) return;\n    const next = (to + items.length) % items.length;\n    setIdx(next);\n  };\n\n  const prev = () => go(idx - 1);\n  const next = () => go(idx + 1);\n\n  // swipe (mobil)\n  useEffect(() => {\n    const el = wrapperRef.current;\n    if (!el) return;\n\n    let startX = 0;\n    let moved = false;\n\n    const onTouchStart = (e: TouchEvent) => {\n      startX = e.touches[0].clientX;\n      moved = false;\n      stop();\n    };\n    const onTouchMove = (e: TouchEvent) => {\n      const dx = e.touches[0].clientX - startX;\n      moved = Math.abs(dx) > 24;\n    };\n    const onTouchEnd = (e: TouchEvent) => {\n      const endX = e.changedTouches[0].clientX;\n      const dx = endX - startX;\n      if (moved) {\n        if (dx > 30) prev();\n        if (dx < -30) next();\n      }\n      // repornim autoplay\n      if (!timerRef.current) {\n        timerRef.current = window.setInterval(() => {\n          setIdx((p) => (p + 1) % items.length);\n        }, intervalMs);\n      }\n    };\n\n    el.addEventListener('touchstart', onTouchStart, { passive: true });\n    el.addEventListener('touchmove', onTouchMove, { passive: true });\n    el.addEventListener('touchend', onTouchEnd);\n    return () => {\n      el.removeEventListener('touchstart', onTouchStart);\n      el.removeEventListener('touchmove', onTouchMove);\n      el.removeEventListener('touchend', onTouchEnd);\n    };\n  }, [idx, intervalMs, items.length]);\n\n  if (!items.length) return null;\n\n  return (\n    <section className=\"gcarousel\" aria-roledescription=\"carousel\">\n      <div\n        className=\"gcarousel__viewport\"\n        ref={wrapperRef}\n        onMouseEnter={stop}\n        onMouseLeave={() => {\n          if (!timerRef.current) {\n            timerRef.current = window.setInterval(() => {\n              setIdx((p) => (p + 1) % items.length);\n            }, intervalMs);\n          }\n        }}\n      >\n        {items.map((it, i) => (\n          <figure\n            key={i}\n            className={`gcarousel__slide ${i === idx ? 'is-active' : ''}`}\n            aria-hidden={i === idx ? 'false' : 'true'}\n          >\n            <img\n              src={it.src}\n              alt={it.alt ?? ''}\n              className=\"gcarousel__img\"\n              loading=\"lazy\"\n              draggable={false}\n            />\n            {it.caption && <figcaption className=\"gcarousel__cap\">{it.caption}</figcaption>}\n          </figure>\n        ))}\n      </div>\n\n      <button className=\"gcarousel__arrow gcarousel__arrow--left\" onClick={prev} aria-label=\"Prev\">\n        ‚ùÆ\n      </button>\n      <button className=\"gcarousel__arrow gcarousel__arrow--right\" onClick={next} aria-label=\"Next\">\n        ‚ùØ\n      </button>\n\n      <div className=\"gcarousel__dots\" role=\"tablist\" aria-label=\"Select slide\">\n        {items.map((_, i) => (\n          <button\n            key={i}\n            role=\"tab\"\n            aria-selected={i === idx}\n            className={`gcarousel__dot ${i === idx ? 'is-active' : ''}`}\n            onClick={() => go(i)}\n          />\n        ))}\n      </div>\n    </section>\n  );\n};\n\nexport default GalleryCarousel;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}