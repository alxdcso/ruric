{"ast":null,"code":"var _jsxFileName = \"/Users/alexandrugarabajii/Dev/Ruric-SRL/src/components/GalleryMosaic/GalleryMosaic.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useRef, useState } from 'react';\nimport './GalleryMosaic.css';\nimport { galleryExtended } from './gallery';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ALL_IMAGES = galleryExtended;\nconst AREAS = ['box1', 'box2', 'box3', 'box4', 'box5', 'box6', 'box7', 'box8', 'box9'];\nconst ROTATE_MS = 5000; // la fiecare 5s schimbăm câteva tile-uri\nconst SWAP_COUNT = 2; // câte tile-uri schimbăm pe rundă\n\nexport default function GalleryMosaic() {\n  _s();\n  // pick inițial 7 imagini distincte\n  const shuffled = useMemo(() => ALL_IMAGES.map(x => x).sort(() => Math.random() - 0.5), []);\n  const poolRef = useRef(shuffled); // pool rotativ\n\n  const [tiles, setTiles] = useState(() => {\n    const seed = poolRef.current.slice(0, AREAS.length);\n    const map = {};\n    AREAS.forEach((a, i) => map[a] = seed[i]);\n    return map;\n  });\n\n  // rotim aleator câteva zone cu imagini noi\n  useEffect(() => {\n    const id = setInterval(() => {\n      setTiles(prev => {\n        const next = {\n          ...prev\n        };\n        // alegem zone aleatorii\n        const zones = [...AREAS].sort(() => Math.random() - 0.5).slice(0, SWAP_COUNT);\n        zones.forEach(z => {\n          // luăm următoarea imagine din pool în mod circular\n          const first = poolRef.current.shift();\n          poolRef.current.push(first);\n          next[z] = first;\n        });\n        return next;\n      });\n    }, ROTATE_MS);\n    return () => clearInterval(id);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    id: \"gallery\",\n    className: \"gm\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"gm__title\",\n      children: \"Galerie lucr\\u0103ri\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"gm__grid\",\n      \"aria-label\": \"Mosaic galeria lucr\\u0103rilor\",\n      children: AREAS.map(area => {\n        const item = tiles[area];\n        return /*#__PURE__*/_jsxDEV(\"figure\", {\n          className: `gm__tile ${area}`,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: item.src,\n            alt: item.alt,\n            loading: \"lazy\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 15\n          }, this)\n        }, area, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n}\n_s(GalleryMosaic, \"vTPextd1pFY+dKpP4FkDMtaIdFE=\");\n_c = GalleryMosaic;\nvar _c;\n$RefreshReg$(_c, \"GalleryMosaic\");","map":{"version":3,"names":["React","useEffect","useMemo","useRef","useState","galleryExtended","jsxDEV","_jsxDEV","ALL_IMAGES","AREAS","ROTATE_MS","SWAP_COUNT","GalleryMosaic","_s","shuffled","map","x","sort","Math","random","poolRef","tiles","setTiles","seed","current","slice","length","forEach","a","i","id","setInterval","prev","next","zones","z","first","shift","push","clearInterval","className","children","fileName","_jsxFileName","lineNumber","columnNumber","area","item","src","alt","loading","_c","$RefreshReg$"],"sources":["/Users/alexandrugarabajii/Dev/Ruric-SRL/src/components/GalleryMosaic/GalleryMosaic.tsx"],"sourcesContent":["import React, { useEffect, useMemo, useRef, useState } from 'react';\nimport './GalleryMosaic.css';\nimport { galleryExtended } from './gallery';\ntype Item = { src: string; alt: string; caption?: string };\n\nconst ALL_IMAGES: Item[] = galleryExtended\n\nconst AREAS = ['box1','box2','box3','box4','box5','box6','box7', 'box8', 'box9'] as const;\ntype AreaKey = typeof AREAS[number];\n\nconst ROTATE_MS = 5000;      // la fiecare 5s schimbăm câteva tile-uri\nconst SWAP_COUNT = 2;        // câte tile-uri schimbăm pe rundă\n\nexport default function GalleryMosaic() {\n  // pick inițial 7 imagini distincte\n  const shuffled = useMemo(\n    () => ALL_IMAGES.map((x) => x).sort(() => Math.random() - 0.5),\n    []\n  );\n  const poolRef = useRef(shuffled); // pool rotativ\n\n  const [tiles, setTiles] = useState<Record<AreaKey, Item>>(() => {\n    const seed = poolRef.current.slice(0, AREAS.length);\n    const map: Partial<Record<AreaKey, Item>> = {};\n    AREAS.forEach((a, i) => (map[a] = seed[i]));\n    return map as Record<AreaKey, Item>;\n  });\n\n  // rotim aleator câteva zone cu imagini noi\n  useEffect(() => {\n    const id = setInterval(() => {\n      setTiles((prev) => {\n        const next = { ...prev };\n        // alegem zone aleatorii\n        const zones = [...AREAS].sort(() => Math.random() - 0.5).slice(0, SWAP_COUNT);\n        zones.forEach((z) => {\n          // luăm următoarea imagine din pool în mod circular\n          const first = poolRef.current.shift()!;\n          poolRef.current.push(first);\n          next[z] = first;\n        });\n        return next;\n      });\n    }, ROTATE_MS);\n    return () => clearInterval(id);\n  }, []);\n\n  return (\n    <section id=\"gallery\" className=\"gm\">\n      <h2 className=\"gm__title\">Galerie lucrări</h2>\n\n      <div className=\"gm__grid\" aria-label=\"Mosaic galeria lucrărilor\">\n        {AREAS.map((area) => {\n          const item = tiles[area];\n          return (\n            <figure key={area} className={`gm__tile ${area}`}>\n              <img src={item.src} alt={item.alt} loading=\"lazy\" />\n              {/* dacă vrei caption la hover, scoate comentariul */}\n              {/* <figcaption>{item.caption ?? item.alt}</figcaption> */}\n            </figure>\n          );\n        })}\n      </div>\n    </section>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}