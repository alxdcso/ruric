{"ast":null,"code":"import React,{useEffect,useRef}from'react';import'./Review.css';import{translations}from'../../translations';import{useLanguage}from'../languageContext/laguageContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const getInitials=name=>{return name.split(' ').map(n=>n[0]).join('').toUpperCase();};const Reviews=()=>{const{language}=useLanguage();const t=translations[language].reviews;const gridRef=useRef(null);useEffect(()=>{var _window$matchMedia,_window;const root=gridRef.current;if(!root)return;const cards=Array.from(root.querySelectorAll('.review-card'));// Respectă preferința de “reduce motion”\nconst reduceMotion=(_window$matchMedia=(_window=window).matchMedia)===null||_window$matchMedia===void 0?void 0:_window$matchMedia.call(_window,'(prefers-reduced-motion: reduce)').matches;if(reduceMotion){cards.forEach(c=>c.classList.add('is-visible'));return;}const io=new IntersectionObserver(entries=>{entries.forEach(e=>{if(e.isIntersecting){e.target.classList.add('is-visible');io.unobserve(e.target);}});},{threshold:0.2});cards.forEach(c=>io.observe(c));return()=>io.disconnect();},[]);return/*#__PURE__*/_jsxs(\"section\",{className:\"reviews\",id:\"reviews\",\"aria-labelledby\":\"reviews-title\",children:[/*#__PURE__*/_jsx(\"h2\",{id:\"reviews-title\",className:\"reviews__title\",children:t.title}),/*#__PURE__*/_jsx(\"div\",{className:\"reviews__grid\",ref:gridRef,role:\"list\",children:t.items.map((review,idx)=>/*#__PURE__*/_jsxs(\"article\",{className:\"review-card\",role:\"listitem\",\"aria-label\":review.name,children:[/*#__PURE__*/_jsx(\"div\",{className:\"review-card__avatar\",\"aria-hidden\":\"true\",children:getInitials(review.name)}),/*#__PURE__*/_jsx(\"h3\",{className:\"review-card__name\",children:review.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"review-card__text\",children:[\"\\u201C\",review.text,\"\\u201D\"]})]},idx))})]});};export default Reviews;","map":{"version":3,"names":["React","useEffect","useRef","translations","useLanguage","jsx","_jsx","jsxs","_jsxs","getInitials","name","split","map","n","join","toUpperCase","Reviews","language","t","reviews","gridRef","_window$matchMedia","_window","root","current","cards","Array","from","querySelectorAll","reduceMotion","window","matchMedia","call","matches","forEach","c","classList","add","io","IntersectionObserver","entries","e","isIntersecting","target","unobserve","threshold","observe","disconnect","className","id","children","title","ref","role","items","review","idx","text"],"sources":["/Users/alexandrugarabajii/Dev/Ruric-SRL/src/components/Review/Review.tsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport './Review.css';\nimport { translations } from '../../translations';\nimport { useLanguage } from '../languageContext/laguageContext';\n\nconst getInitials = (name: string) => {\n  return name\n    .split(' ')\n    .map((n) => n[0])\n    .join('')\n    .toUpperCase();\n};\n\nconst Reviews: React.FC = () => {\n  const { language } = useLanguage();\n  const t = translations[language].reviews;\n\n  const gridRef = useRef<HTMLDivElement | null>(null);\n\n  useEffect(() => {\n    const root = gridRef.current;\n    if (!root) return;\n\n    const cards = Array.from(root.querySelectorAll<HTMLElement>('.review-card'));\n\n    // Respectă preferința de “reduce motion”\n    const reduceMotion = window.matchMedia?.('(prefers-reduced-motion: reduce)').matches;\n    if (reduceMotion) {\n      cards.forEach((c) => c.classList.add('is-visible'));\n      return;\n    }\n\n    const io = new IntersectionObserver(\n      (entries) => {\n        entries.forEach((e) => {\n          if (e.isIntersecting) {\n            e.target.classList.add('is-visible');\n            io.unobserve(e.target);\n          }\n        });\n      },\n      { threshold: 0.2 }\n    );\n\n    cards.forEach((c) => io.observe(c));\n    return () => io.disconnect();\n  }, []);\n\n  return (\n    <section className=\"reviews\" id=\"reviews\" aria-labelledby=\"reviews-title\">\n      <h2 id=\"reviews-title\" className=\"reviews__title\">\n        {t.title}\n      </h2>\n\n      <div className=\"reviews__grid\" ref={gridRef} role=\"list\">\n        {t.items.map((review, idx) => (\n          <article key={idx} className=\"review-card\" role=\"listitem\" aria-label={review.name}>\n            <div className=\"review-card__avatar\" aria-hidden=\"true\">\n              {getInitials(review.name)}\n            </div>\n            <h3 className=\"review-card__name\">{review.name}</h3>\n            <p className=\"review-card__text\">“{review.text}”</p>\n          </article>\n        ))}\n      </div>\n    </section>\n  );\n};\n\nexport default Reviews;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}